<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.web.WebView?>

<AnchorPane fx:id="rootPane" prefHeight="600.0" prefWidth="900.0" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.isep.smarttripplanner.controller.TripDetailController">
   <children>
      <BorderPane AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
         
         <!-- Left: Sidebar -->
         <left>
            <VBox fx:id="sidebar" spacing="15.0" prefWidth="500" style="-fx-padding: 30; -fx-background-color: #f9f9f9; -fx-border-color: #ddd; -fx-border-width: 0 1 0 0;">
               <children>
                  <Label fx:id="tripTitleLabel" style="-fx-font-size: 32; -fx-font-weight: bold;" text="Trip Title" />
                  
                  <HBox fx:id="buttonContainer" spacing="15">
                      <Button text="Edit Trip" onAction="#handleEditTrip" style="-fx-cursor: hand; -fx-background-color: #e0e0e0; -fx-font-size: 14; -fx-padding: 8 15;"/>
                      <Button text="Complete Trip" onAction="#handleCompleteTrip" style="-fx-cursor: hand; -fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-size: 14; -fx-padding: 8 15;"/>
                      <Button text="Delete Trip" onAction="#handleDeleteTrip" style="-fx-cursor: hand; -fx-background-color: #ffe6e6; -fx-text-fill: red; -fx-font-size: 14; -fx-padding: 8 15;"/>
                  </HBox>

                  <Label fx:id="tripOverviewLabel" style="-fx-font-size: 18; -fx-text-fill: grey;" text="Trip Overview" />
                  
                  <FlowPane fx:id="cardsContainer" hgap="15" vgap="15" prefWrapLength="450" alignment="CENTER">
                      <children>
                        <!-- Budget -->
                        <VBox fx:id="budgetCard" alignment="CENTER" prefHeight="120" prefWidth="140" style="-fx-background-color: linear-gradient(to bottom right, #4facfe, #00f2fe); -fx-background-radius: 20; -fx-padding: 10;">
                           <children>
                              <Label style="-fx-font-weight: bold; -fx-font-size: 14;" text="Budget" textFill="white" />
                              <Label style="-fx-font-size: 22; -fx-font-weight: bold;" text="--" textFill="white" />
                           </children>
                        </VBox>

                        <!-- Weather -->
                        <VBox fx:id="weatherCard" alignment="CENTER" prefHeight="120" prefWidth="140" style="-fx-background-color: linear-gradient(to bottom right, #4facfe, #00f2fe); -fx-background-radius: 20; -fx-padding: 10;">
                           <children>
                               <Label style="-fx-font-weight: bold; -fx-font-size: 14;" text="Weather" textFill="white" />
                              <Label style="-fx-font-size: 22; -fx-font-weight: bold;" text="--" textFill="white" />
                           </children>
                        </VBox>

                        <!-- Start Date -->
                        <VBox fx:id="dayTrackerCard" alignment="CENTER" prefHeight="120" prefWidth="140" style="-fx-background-color: linear-gradient(to bottom right, #4facfe, #00f2fe); -fx-background-radius: 20; -fx-padding: 10;">
                           <children>
                              <Label style="-fx-font-weight: bold; -fx-font-size: 14;" text="Start Date" textFill="white" />
                              <Label style="-fx-font-size: 16; -fx-font-weight: bold;" text="--" textFill="white" wrapText="true" textAlignment="CENTER"/>
                           </children>
                        </VBox>

                         <!-- End Date -->
                         <VBox fx:id="endDateCard" alignment="CENTER" prefHeight="120" prefWidth="140" style="-fx-background-color: linear-gradient(to bottom right, #4facfe, #00f2fe); -fx-background-radius: 20; -fx-padding: 10;">
                            <children>
                               <Label style="-fx-font-weight: bold; -fx-font-size: 14;" text="End Date" textFill="white" />
                               <Label style="-fx-font-size: 16; -fx-font-weight: bold;" text="--" textFill="white" />
                            </children>
                         </VBox>
                     </children>
                  </FlowPane>
                  
                  <Separator style="-fx-padding: 15 0 15 0;" />
                  
                  <Label fx:id="destinationsLabel" text="Destinations" style="-fx-font-weight: bold; -fx-font-size: 20;" />
                  <ListView fx:id="destinationsListView" VBox.vgrow="ALWAYS" style="-fx-background-color: transparent; -fx-control-inner-background: #f9f9f9; -fx-font-size: 14;" />
               </children>
            </VBox>
         </left>

         <!-- Center: Map -->
         <center>
            <StackPane>
                <WebView fx:id="tripMapWebView" minHeight="400" minWidth="400" />
            </StackPane>
         </center>

      </BorderPane>
   </children>
</AnchorPane>
